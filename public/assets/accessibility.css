/* ============================================
   â™¿ ACCESSIBILITY - Platinum Accessibility Suite
   ============================================ */

:root {
    --acc-font-multiplier: 1;
}

/* --- Skip Link --- */
.skip-link {
    position: absolute;
    top: -100px;
    left: 0;
    background: var(--brand);
    color: white;
    padding: 1rem;
    z-index: 10000;
    transition: top 0.3s;
    text-decoration: none;
    font-weight: 700;
}

.skip-link:focus {
    top: 0;
}

/* --- Color Blindness Filters --- */
.acc-protanopia {
    filter: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="f"><feColorMatrix type="matrix" values="0.567, 0.433, 0, 0, 0, 0.558, 0.442, 0, 0, 0, 0, 0.242, 0.758, 0, 0, 0, 0, 0, 1, 0"/></filter></svg>#f');
}

.acc-deuteranopia {
    filter: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="f"><feColorMatrix type="matrix" values="0.625, 0.375, 0, 0, 0, 0.7, 0.3, 0, 0, 0, 0, 0.3, 0.7, 0, 0, 0, 0, 0, 1, 0"/></filter></svg>#f');
}

.acc-tritanopia {
    filter: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="f"><feColorMatrix type="matrix" values="0.95, 0.05, 0, 0, 0, 0, 0.433, 0.567, 0, 0, 0, 0.475, 0.525, 0, 0, 0, 0, 0, 1, 0"/></filter></svg>#f');
}

.acc-grayscale {
    filter: grayscale(100%);
}

/* --- High Contrast Mode --- */
.acc-high-contrast {
    --bg: #000000 !important;
    --bg-subtle: #111111 !important;
    --surface: #000000 !important;
    --text: #ffffff !important;
    --text-soft: #eeeeee !important;
    --muted: #cccccc !important;
    --border: #ffffff !important;
    --border-rich: #ffffff !important;
    --brand: #ffff00 !important;
    --brand-light: #ffff00 !important;
    --accent: #00ffff !important;
}

.acc-high-contrast * {
    border-color: #ffffff !important;
}

.acc-high-contrast .btn-primary {
    background: #ffff00 !important;
    color: #000000 !important;
}

/* --- Font Size Control --- */
body.font-size-md {
    --acc-font-multiplier: 1.1;
}

body.font-size-lg {
    --acc-font-multiplier: 1.25;
}

body.font-size-xl {
    --acc-font-multiplier: 1.5;
}

body {
    font-size: calc(16px * var(--acc-font-multiplier));
}

/* --- Keyboard Navigation --- */
.acc-keyboard-nav *:focus {
    outline: 4px solid var(--accent) !important;
    outline-offset: 4px !important;
    box-shadow: 0 0 0 8px rgba(99, 102, 241, 0.3) !important;
}

/* --- Accessibility Sidebar --- */
.acc-sidebar {
    position: fixed;
    top: 0;
    right: -350px;
    width: 350px;
    height: 100vh;
    background: var(--surface);
    box-shadow: var(--shadow-xl);
    z-index: 3000;
    transition: var(--t);
    padding: 2rem;
    overflow-y: auto;
    border-left: 1px solid var(--border);
}

.acc-sidebar.is-active {
    right: 0;
}

.acc-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    z-index: 2999;
    opacity: 0;
    pointer-events: none;
    transition: var(--t-fast);
}

.acc-overlay.is-active {
    opacity: 1;
    pointer-events: auto;
}

.acc-trigger {
    position: fixed;
    bottom: 24px;
    left: 24px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--grad-premium);
    color: white;
    display: grid;
    place-items: center;
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: var(--shadow-lg);
    z-index: 2500;
    transition: var(--t);
}

.acc-trigger:hover {
    transform: scale(1.1) rotate(15deg);
}

.acc-section {
    margin-bottom: 2rem;
}

.acc-section-title {
    font-size: 0.75rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--muted);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

.acc-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.acc-btn {
    padding: 12px;
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--bg-subtle);
    color: var(--text);
    font-size: 0.8125rem;
    font-weight: 700;
    cursor: pointer;
    transition: var(--t-fast);
    text-align: center;
}

.acc-btn:hover {
    border-color: var(--brand);
    background: var(--surface);
}

.acc-btn.is-active {
    background: var(--brand);
    color: white;
    border-color: var(--brand);
}

/* Cursor helper */
.acc-big-cursor * {
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M0,0 L0,24 L6,18 L10,26 L14,24 L10,16 L18,16 Z" fill="black" stroke="white" stroke-width="2"/></svg>'), auto !important;
}